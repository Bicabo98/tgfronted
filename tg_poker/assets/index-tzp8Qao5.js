import{d as s,r as e,v as r,j as a,w as t}from"./index-sT5wyuMN.js";import{L as i,I as n}from"./infinite-scroll-BoLKwIxq.js";import{s as c}from"./common-ceHGJNLy.js";import{B as o}from"./index-B5J22Iun.js";import"./phaser-BsKGbp7r.js";import"./attach-properties-to-component-CClyKAqJ.js";import"./with-default-props-YTkVgPz6.js";import"./index-3t5yCYFN.js";import"./get-scroll-parent-CbYlqSdh.js";import"./dot-loading-Clmf9eMD.js";function l(){const l=s((s=>s.user.info)),[d,m]=e.useState([]),[p,j]=e.useState(!0),[u,h]=e.useState(1),[x,f]=e.useState(0),N=r(),[g,v]=e.useState(!1),y=(s,e={})=>{try{return JSON.parse(s)}catch(r){return console.error("Failed to parse JSON:",r),e}};return e.useEffect((()=>{N.search,v(!0),(async()=>{{let s=await t(l.user_id);200==s.code&&(h((s=>s+1)),m(s.data.list),s.data.list)}})()}),[]),a.jsxs("div",{className:"frens-detail-page",children:[a.jsx("div",{className:"frens-title",children:g?a.jsx("span",{children:"My Scores"}):a.jsxs("span",{children:[x,"Â frens"]})}),a.jsx(i,{className:"list-wrapper",children:d.map(((s,e)=>a.jsx(i.Item,{children:a.jsxs("div",{className:"score-list",children:[a.jsxs("div",{className:"score-detail-left",children:[a.jsx("div",{className:"Bonus"==s.mission_type?"by-user":"type",children:"Bonus"==s.mission_type?a.jsxs(a.Fragment,{children:["Invite ",a.jsx("div",{className:"user-icon",style:{background:c(y(s.description,{}).username||"")},children:(y(s.description,{}).username||"").slice(0,2)}),y(s.description,{}).username]}):s.name}),a.jsx("div",{className:"score-detail-time",children:"2023-10-19-21:03:51"})]}),a.jsx("div",{className:"score-detail-right",children:a.jsxs(a.Fragment,{children:["+",s.score.toLocaleString()," BP",a.jsx("img",{src:"assets/common/coin.png",alt:"Score Icon",className:"score-coin"})]})})]})},e)))}),a.jsx(n,{loadMore:async function(){const s=N.search;s&&s.includes("myself")&&s.includes("play_game_reward"),j(!1)},hasMore:p}),a.jsx(o,{scrollName:"content"})]})}export{l as default};
