import{d as s,b as e,r as a,u as o,j as c,y as i,s as n,E as t}from"./index-sT5wyuMN.js";import{B as r}from"./button-DtbT6rDe.js";import"./phaser-BsKGbp7r.js";import"./dot-loading-Clmf9eMD.js";import"./with-default-props-YTkVgPz6.js";function l(){const l=s((s=>s.user.info)),d=e(),m=t.getInstance(),[u,h]=a.useState(),[f,j]=a.useState(!1);a.useState([]);const v=o();return a.useEffect((()=>{console.log("checkin"),(async()=>{console.log("userInfo=",l);const s=await i({name:l.username,user_id:l.user_id});if(200==s.code){var e=l.score+s.data.score;let a={...l,...s.data};a.score=e,console.log("checkin mergedData:",a),h(a),d(n(a)),setTimeout((()=>{m.emit("showCongrates",{time:3e3,visible:!0})}),1100)}})()}),[l]),a.useEffect((()=>{j(!0)}),[u]),c.jsx("div",{className:"checkIn-container",children:c.jsxs("div",{className:"checkIn-first",children:[c.jsxs("div",{className:"daily-reward",children:[c.jsx("div",{className:"day",children:null==u?void 0:u.continuous}),"Days streak"]}),c.jsxs("div",{className:"rewards-container "+((null==u?void 0:u.score)?"fadeIn":""),children:["+",null==u?void 0:u.score,c.jsx(c.Fragment,{children:" BP"}),c.jsx("img",{src:"assets/common/coin.png",alt:"Score Icon",className:"score-coin"})]}),c.jsx("div",{className:"rewards-detail",children:c.jsx("div",{className:"rewards-detail-top",children:c.jsx(r,{style:{fontWeight:"bold",flex:1},onClick:()=>{v("/")},children:"Continue"})})})]})})}export{l as default};
