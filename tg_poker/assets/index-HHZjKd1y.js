import{r as e,_ as t,h as n,i as o,k as i,R as r,l as s,n as a,o as l,p as c,d as u,u as d,m,z as h,j as f}from"./index-sT5wyuMN.js";import{m as p,w as v,a as g}from"./with-default-props-YTkVgPz6.js";import{B as y}from"./button-DtbT6rDe.js";import{c as b}from"./phaser-BsKGbp7r.js";import{i as w,u as C,d as E,a as k,b as x,c as _,e as j,w as N,M as R,f as O,S as T,r as I,C as M,P as S}from"./popup-BNETPUH7.js";import{u as L}from"./index-3t5yCYFN.js";import{A as $,r as D,g as A,T as B}from"./game-CxZlzPMw.js";import{a as P}from"./attach-properties-to-component-CClyKAqJ.js";import{s as F}from"./common-ceHGJNLy.js";import"./dot-loading-Clmf9eMD.js";import"./get-scroll-parent-CbYlqSdh.js";function H(t){var n=e.useRef(t);n.current=e.useMemo((function(){return t}),[t]);var o=e.useRef();return o.current||(o.current=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.current.apply(this,e)}),o.current}function z(e,t){if(e===t)return!0;for(var n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0}function V(e,t){if(w)return e?"function"==typeof e?e():"current"in e?e.current:e:t}var U,W=(U=e.useEffect,function(t,n,o){var i=e.useRef(!1),r=e.useRef([]),s=e.useRef([]),a=e.useRef();U((function(){var e,l=(Array.isArray(o)?o:[o]).map((function(e){return V(e)}));if(!i.current)return i.current=!0,r.current=l,s.current=n,void(a.current=t());l.length===r.current.length&&z(r.current,l)&&z(s.current,n)||(null===(e=a.current)||void 0===e||e.call(a),r.current=l,s.current=n,a.current=t())})),L((function(){var e;null===(e=a.current)||void 0===e||e.call(a),i.current=!1}))});!function(){if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(){for(var e=window.document,t=i(e);t;)t=i(e=t.ownerDocument);return e}(),t=[],n=null,o=null;s.prototype.THROTTLE_TIMEOUT=100,s.prototype.POLL_INTERVAL=null,s.prototype.USE_MUTATION_OBSERVER=!0,s._setupCrossOriginUpdater=function(){return n||(n=function(e,n){o=e&&n?d(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},s._resetCrossOriginUpdater=function(){n=null,o=null},s.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},s.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},s.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},s.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},s.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},s.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},s.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var o=this._checkForIntersections,r=null,s=null;this.POLL_INTERVAL?r=n.setInterval(o,this.POLL_INTERVAL):(a(n,"resize",o,!0),a(t,"scroll",o,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(s=new n.MutationObserver(o)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(r&&e.clearInterval(r),l(e,"resize",o,!0)),l(t,"scroll",o,!0),s&&s.disconnect()}));var c=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=c){var u=i(t);u&&this._monitorIntersections(u.ownerDocument)}}},s.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var o=this.root&&(this.root.ownerDocument||this.root)||e;if(!this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=o;){var r=i(n);if((n=r&&r.ownerDocument)==t)return!0}return!1}))){var r=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),r(),t!=o){var s=i(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},s.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},s.prototype._checkForIntersections=function(){if(this.root||!n||o){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(o){var i=o.element,s=c(i),a=this._rootContainsTarget(i),l=o.entry,u=e&&a&&this._computeTargetAndRootIntersection(i,s,t),d=null;this._rootContainsTarget(i)?n&&!this.root||(d=t):d={top:0,bottom:0,left:0,right:0,width:0,height:0};var m=o.entry=new r({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:s,rootBounds:d,intersectionRect:u});l?e&&a?this._hasCrossedThreshold(l,m)&&this._queuedEntries.push(m):l&&l.isIntersecting&&this._queuedEntries.push(m):this._queuedEntries.push(m)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},s.prototype._computeTargetAndRootIntersection=function(t,i,r){if("none"!=window.getComputedStyle(t).display){for(var s,a,l,u,m,f,p,v,g=i,y=h(t),b=!1;!b&&y;){var w=null,C=1==y.nodeType?window.getComputedStyle(y):{};if("none"==C.display)return null;if(y==this.root||9==y.nodeType)if(b=!0,y==this.root||y==e)n&&!this.root?!o||0==o.width&&0==o.height?(y=null,w=null,g=null):w=o:w=r;else{var E=h(y),k=E&&c(E),x=E&&this._computeTargetAndRootIntersection(E,k,r);k&&x?(y=E,w=d(k,x)):(y=null,g=null)}else{var _=y.ownerDocument;y!=_.body&&y!=_.documentElement&&"visible"!=C.overflow&&(w=c(y))}if(w&&(s=w,a=g,void 0,void 0,void 0,void 0,void 0,void 0,l=Math.max(s.top,a.top),u=Math.min(s.bottom,a.bottom),m=Math.max(s.left,a.left),v=u-l,g=(p=(f=Math.min(s.right,a.right))-m)>=0&&v>=0&&{top:l,bottom:u,left:m,right:f,width:p,height:v}||null),!g)break;y=y&&h(y)}return g}},s.prototype._getRootRect=function(){var t;if(this.root&&!f(this.root))t=c(this.root);else{var n=f(this.root)?this.root:e,o=n.documentElement,i=n.body;t={top:0,left:0,right:o.clientWidth||i.clientWidth,width:o.clientWidth||i.clientWidth,bottom:o.clientHeight||i.clientHeight,height:o.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(t)},s.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},s.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,o=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},s.prototype._rootIsInDom=function(){return!this.root||m(e,this.root)},s.prototype._rootContainsTarget=function(t){var n=this.root&&(this.root.ownerDocument||this.root)||e;return m(n,t)&&(!this.root||n==t.ownerDocument)},s.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},s.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=s,window.IntersectionObserverEntry=r}function i(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(t){return null}}function r(e){this.time=e.time,this.target=e.target,this.rootBounds=u(e.rootBounds),this.boundingClientRect=u(e.boundingClientRect),this.intersectionRect=u(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function s(e,t){var n,o,i,r=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType&&9!=r.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),o))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function a(e,t,n,o){"function"==typeof e.addEventListener?e.addEventListener(t,n,o):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function l(e,t,n,o){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,o):"function"==typeof e.detachEvent&&e.detachEvent("on"+t,n)}function c(e){var t;try{t=e.getBoundingClientRect()}catch(n){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function d(e,t){var n=t.top-e.top,o=t.left-e.left;return{top:n,left:o,height:t.height,width:t.width,bottom:n+t.height,right:o+t.width}}function m(e,t){for(var n=t;n;){if(n==e)return!0;n=h(n)}return!1}function h(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?i(t):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function f(e){return e&&9===e.nodeType}}();var Z={},q=b&&b.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Z,"__esModule",{value:!0});var G=Z.staged=void 0;const X=q(e);function Y(e){return"function"==typeof e?X.default.createElement(J,{stage:e}):e}function J(e){return Y(e.stage())}function K(e){return"number"==typeof e?`${e}px`:e}G=Z.staged=function(e){return function(t,n){return Y(e(t,n))}};const Q=s=>{const a=e.useRef(null),[l]=(c=a,d=(u={}).callback,m=t(u,["callback"]),f=(h=n(e.useState(),2))[0],p=h[1],g=(v=n(e.useState(),2))[0],y=v[1],W((function(){var e=(Array.isArray(c)?c:[c]).map((function(e){return V(e)})).filter(Boolean);if(e.length){var t=new IntersectionObserver((function(e){var t,n;try{for(var i=o(e),r=i.next();!r.done;r=i.next()){var s=r.value;y(s.intersectionRatio),p(s.isIntersecting),null==d||d(s)}}catch(a){t={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}),i(i({},m),{root:V(void 0)}));return e.forEach((function(e){return t.observe(e)})),function(){t.disconnect()}}}),[void 0,void 0,d],c),[f,g]);var c,u,d,m,h,f,p,v,g,y;return e.useEffect((()=>{l&&s.onActive()}),[l]),r.createElement("div",{ref:a})},ee=(te=C,function(t,n){var o=e.useRef(!1);te((function(){return function(){o.current=!1}}),[]),te((function(){if(o.current)return t();o.current=!0}),n)});var te;const ne="adm-image",oe={fit:"fill",placeholder:r.createElement("div",{className:`${ne}-tip`},r.createElement((()=>r.createElement("svg",{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M41.396 6.234c1.923 0 3.487 1.574 3.487 3.505v29.14c0 1.937-1.568 3.51-3.491 3.51H6.604c-1.923 0-3.487-1.573-3.487-3.51V9.745c0-1.936 1.564-3.51 3.487-3.51Zm0 2.847H6.604c-.355 0-.654.3-.654.658V34.9l5.989-8.707a2.373 2.373 0 0 1 1.801-1.005 2.405 2.405 0 0 1 1.933.752l4.182 4.525 7.58-11.005a2.374 2.374 0 0 1 1.96-1.01c.79 0 1.532.38 1.966 1.01L42.05 34.89V9.74a.664.664 0 0 0-.654-.658Zm-28.305 2.763a3.119 3.119 0 0 1 3.117 3.117 3.119 3.119 0 0 1-3.117 3.117 3.122 3.122 0 0 1-3.117-3.117 3.119 3.119 0 0 1 3.117-3.117Z",fill:"#DBDBDB",fillRule:"nonzero"}))),null)),fallback:r.createElement("div",{className:`${ne}-tip`},r.createElement((()=>r.createElement("svg",{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M19.233 6.233 17.42 9.08l-10.817.001a.665.665 0 0 0-.647.562l-.007.096V34.9l5.989-8.707a2.373 2.373 0 0 1 1.801-1.005 2.415 2.415 0 0 1 1.807.625l.126.127 4.182 4.525 2.267-3.292 5.461 7.841-4.065 7.375H6.604c-1.86 0-3.382-1.47-3.482-3.317l-.005-.192V9.744c0-1.872 1.461-3.405 3.296-3.505l.19-.005h12.63Zm22.163 0c1.86 0 3.382 1.472 3.482 3.314l.005.192v29.14a3.507 3.507 0 0 1-3.3 3.505l-.191.006H27.789l3.63-6.587.06-.119a1.87 1.87 0 0 0-.163-1.853l-6.928-9.949 3.047-4.422a2.374 2.374 0 0 1 1.96-1.01 2.4 2.4 0 0 1 1.86.87l.106.14L42.05 34.89V9.74a.664.664 0 0 0-.654-.658H21.855l1.812-2.848h17.73Zm-28.305 5.611c.794 0 1.52.298 2.07.788l-.843 1.325-.067.114a1.87 1.87 0 0 0 .11 1.959l.848 1.217c-.556.515-1.3.83-2.118.83a3.122 3.122 0 0 1-3.117-3.116 3.119 3.119 0 0 1 3.117-3.117Z",fill:"#DBDBDB",fillRule:"nonzero"}))),null)),lazy:!1,draggable:!1},ie=G((t=>{const n=p(oe,t),[o,i]=e.useState(!1),[s,a]=e.useState(!1),l=e.useRef(null),c=e.useRef(null);let u=n.src,d=n.srcSet;const[m,h]=e.useState(!n.lazy);u=m?n.src:void 0,d=m?n.srcSet:void 0,ee((()=>{i(!1),a(!1)}),[u]),e.useEffect((()=>{var e;(null===(e=c.current)||void 0===e?void 0:e.complete)&&i(!0)}),[]);const f={};return n.width&&(f["--width"]=K(n.width),f.width=K(n.width)),n.height&&(f["--height"]=K(n.height),f.height=K(n.height)),v(n,r.createElement("div",{ref:l,className:ne,style:f,onClick:n.onContainerClick},n.lazy&&!m&&r.createElement(Q,{onActive:()=>{h(!0)}}),function(){if(s)return r.createElement(r.Fragment,null,n.fallback);const e=r.createElement("img",{ref:c,id:n.id,className:`${ne}-img`,src:u,alt:n.alt,onClick:n.onClick,onLoad:e=>{var t;i(!0),null===(t=n.onLoad)||void 0===t||t.call(n,e)},onError:e=>{var t;a(!0),null===(t=n.onError)||void 0===t||t.call(n,e)},style:{objectFit:n.fit,display:o?"block":"none"},crossOrigin:n.crossOrigin,decoding:n.decoding,loading:n.loading,referrerPolicy:n.referrerPolicy,sizes:n.sizes,srcSet:d,useMap:n.useMap,draggable:n.draggable});return r.createElement(r.Fragment,null,!o&&n.placeholder,e)}()))}));const re="adm-center-popup",se=Object.assign(Object.assign({},E),{getContainer:null}),ae=t=>{const{popup:n={}}=s(),o=p(se,n,t),i=k(),l=x({scale:o.visible?1:.8,opacity:o.visible?1:0,config:{mass:1.2,tension:200,friction:25,clamp:!0},onRest:()=>{var e,t;i.current||(u(o.visible),o.visible?null===(e=o.afterShow)||void 0===e||e.call(o):null===(t=o.afterClose)||void 0===t||t.call(o))}}),[c,u]=e.useState(o.visible);C((()=>{o.visible&&u(!0)}),[o.visible]);const d=e.useRef(null);_(d,o.disableBodyScroll&&c);const m=j(c&&o.visible),h=r.createElement("div",{className:a(`${re}-body`,o.bodyClassName),style:o.bodyStyle},o.children),f=N(o.stopPropagation,v(o,r.createElement("div",{className:re,style:{display:c?void 0:"none",pointerEvents:c?void 0:"none"}},o.mask&&r.createElement(R,{visible:m,forceRender:o.forceRender,destroyOnClose:o.destroyOnClose,onMaskClick:e=>{var t,n;null===(t=o.onMaskClick)||void 0===t||t.call(o,e),o.closeOnMaskClick&&(null===(n=o.onClose)||void 0===n||n.call(o))},style:o.maskStyle,className:a(`${re}-mask`,o.maskClassName),disableBodyScroll:!1,stopPropagation:o.stopPropagation}),r.createElement("div",{className:`${re}-wrap`,role:o.role,"aria-label":o["aria-label"]},r.createElement(O.div,{style:Object.assign(Object.assign({},l),{pointerEvents:l.opacity.to((e=>1===e?"unset":"none"))}),ref:d},o.showCloseButton&&r.createElement("a",{className:a(`${re}-close`,"adm-plain-anchor"),onClick:()=>{var e;null===(e=o.onClose)||void 0===e||e.call(o)}},o.closeIcon),h)))));return r.createElement(T,{active:c,forceRender:o.forceRender,destroyOnClose:o.destroyOnClose},I(o.getContainer,f))},le="adm-space",ce={direction:"horizontal"},ue=e=>{const t=p(ce,e),{direction:n,onClick:o}=t;return v(t,r.createElement("div",{className:a(le,{[`${le}-wrap`]:t.wrap,[`${le}-block`]:t.block,[`${le}-${n}`]:!0,[`${le}-align-${t.align}`]:!!t.align,[`${le}-justify-${t.justify}`]:!!t.justify}),onClick:o},r.Children.map(t.children,(e=>null!=e&&r.createElement("div",{className:`${le}-item`},e)))))},de=e=>{const{action:t}=e;return v(e.action,r.createElement(y,{key:t.key,onClick:e.onAction,className:a("adm-modal-button",{"adm-modal-button-primary":e.action.primary}),fill:e.action.primary?"solid":"none",size:e.action.primary?"large":"middle",block:!0,color:t.danger?"danger":"primary",loading:"auto",disabled:t.disabled},t.text))},me={actions:[],closeOnAction:!1,closeOnMaskClick:!1,getContainer:null},he=e=>{const t=p(me,e),n=r.createElement(r.Fragment,null,!!t.image&&r.createElement("div",{className:fe("image-container")},r.createElement(ie,{src:t.image,alt:"modal header image",width:"100%"})),!!t.header&&r.createElement("div",{className:fe("header")},r.createElement($,null,t.header)),!!t.title&&r.createElement("div",{className:fe("title")},t.title),r.createElement("div",{className:fe("content")},"string"==typeof t.content?r.createElement($,null,t.content):t.content),r.createElement(ue,{direction:"vertical",block:!0,className:a(fe("footer"),0===t.actions.length&&fe("footer-empty"))},t.actions.map(((e,n)=>r.createElement(de,{key:e.key,action:e,onAction:()=>l(void 0,void 0,void 0,(function*(){var o,i,r;yield Promise.all([null===(o=e.onClick)||void 0===o?void 0:o.call(e),null===(i=t.onAction)||void 0===i?void 0:i.call(t,e,n)]),t.closeOnAction&&(null===(r=t.onClose)||void 0===r||r.call(t))}))})))));return r.createElement(ae,{className:a(fe(),t.className),style:t.style,afterClose:t.afterClose,afterShow:t.afterShow,showCloseButton:t.showCloseButton,closeOnMaskClick:t.closeOnMaskClick,onClose:t.onClose,visible:t.visible,getContainer:t.getContainer,bodyStyle:t.bodyStyle,bodyClassName:a(fe("body"),t.image&&fe("with-image"),t.bodyClassName),maskStyle:t.maskStyle,maskClassName:t.maskClassName,stopPropagation:t.stopPropagation,disableBodyScroll:t.disableBodyScroll,destroyOnClose:t.destroyOnClose,forceRender:t.forceRender},n)};function fe(e=""){return"adm-modal"+(e&&"-")+e}const pe=new Set;function ve(e){const t=D(r.createElement(he,Object.assign({},e,{afterClose:()=>{var n;pe.delete(t.close),null===(n=e.afterClose)||void 0===n||n.call(e)}})));return pe.add(t.close),t}const ge={confirmText:"确认",cancelText:"取消"},ye=P(he,{show:ve,alert:function(e){const t={confirmText:c().locale.Modal.ok},n=p(t,e);return new Promise((e=>{ve(Object.assign(Object.assign({},n),{closeOnAction:!0,actions:[{key:"confirm",text:n.confirmText,primary:!0}],onAction:n.onConfirm,onClose:()=>{var t;null===(t=n.onClose)||void 0===t||t.call(n),e()}}))}))},confirm:function(e){const{locale:t}=c(),n=p(ge,{confirmText:t.common.confirm,cancelText:t.common.cancel},e);return new Promise((e=>{ve(Object.assign(Object.assign({},n),{closeOnAction:!0,onClose:()=>{var t;null===(t=n.onClose)||void 0===t||t.call(n),e(!1)},actions:[{key:"confirm",text:n.confirmText,primary:!0,onClick:()=>l(this,void 0,void 0,(function*(){var t;yield null===(t=n.onConfirm)||void 0===t?void 0:t.call(n),e(!0)}))},{key:"cancel",text:n.cancelText,onClick:()=>l(this,void 0,void 0,(function*(){var t;yield null===(t=n.onCancel)||void 0===t?void 0:t.call(n),e(!1)}))}]}))}))},clear:function(){pe.forEach((e=>{e()}))}}),be="adm-notice-bar",we={color:"default",delay:2e3,speed:50,icon:r.createElement((function(t){return e.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{style:Object.assign({verticalAlign:"-0.125em"},t.style),className:["antd-mobile-icon",t.className].filter(Boolean).join(" ")}),e.createElement("g",{id:"SoundOutline-SoundOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},e.createElement("g",{id:"SoundOutline-编组"},e.createElement("rect",{id:"SoundOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),e.createElement("path",{d:"M28.267333,7.42364522 C28.6217345,7.94869119 28.8108515,8.56559899 28.8108515,9.19662571 L28.8108515,38.803714 C28.8108515,40.568974 27.3619563,42 25.5746535,42 C24.9357472,42 24.311136,41.8132153 23.7795338,41.4631847 L13.5176584,34.7058449 L8.3149307,34.706256 C5.93186028,34.706256 4,32.7982213 4,30.4445413 L4,17.6593971 C4,15.3057171 5.93186028,13.3976824 8.3149307,13.3976824 L13.3601634,13.3972713 L23.7795338,6.53715498 C25.2666597,5.55796489 27.2759158,5.95486009 28.267333,7.42364522 Z M40.4649231,8.99868666 C40.5511218,9.17742383 40.619996,9.32223121 40.6715457,9.43310881 C42.8085201,14.0295034 44,19.1437027 44,24.532755 C44,29.7837404 42.8687892,34.7737758 40.8339269,39.2781083 C40.7469512,39.4706362 40.6237802,39.7330988 40.4644141,40.0654961 C40.3689469,40.2647533 40.1300031,40.3488277 39.9307715,40.2533072 C39.9306414,40.2532448 39.9305113,40.2531824 39.9303812,40.2531198 C39.6706542,40.1282492 39.4751102,40.0342363 39.3437492,39.9710811 C38.9410401,39.777468 38.6130663,39.619786 38.3598279,39.498035 C38.2070716,39.4245934 38.0007263,39.3253875 37.740792,39.2004172 C37.5419104,39.104853 37.4580092,38.8662856 37.5532468,38.6672473 C37.7034937,38.3532445 37.8197479,38.104744 37.9020095,37.9217457 C39.7416376,33.8293278 40.763802,29.2989389 40.763802,24.532755 C40.763802,19.6931433 39.7099001,15.0966478 37.8164042,10.9549334 C37.7526807,10.8155487 37.6652043,10.6300308 37.5539748,10.3983796 C37.4585265,10.1993116 37.5423279,9.96050973 37.7412949,9.8648511 C37.9298799,9.7741839 38.0818373,9.70112639 38.1971671,9.64567856 C38.5403397,9.48068928 39.0100918,9.2548436 39.6064234,8.9681415 C39.6867211,8.9295363 39.7949893,8.87748349 39.9312282,8.81198307 C40.1301627,8.71623553 40.3690201,8.79982709 40.4649231,8.99868666 Z M24.954689,9.60481048 L14.4401642,16.5275765 C14.3748695,16.5705665 14.2984086,16.5934809 14.2202323,16.5934873 L8.3149307,16.5939685 L8.3149307,16.5939685 C7.76171792,16.5939685 7.30576856,17.0052668 7.24345545,17.5351457 L7.23619803,17.6593971 L7.23619803,30.4445413 C7.23619803,30.9909313 7.65263219,31.4412574 8.18892037,31.502802 L8.31467178,31.50997 L14.3775506,31.5094909 C14.4557573,31.5094847 14.5322502,31.5324045 14.5975676,31.5754153 L24.9546682,38.39546 C25.139173,38.5169545 25.3872345,38.4658746 25.508729,38.2813698 C25.5517339,38.2160614 25.5746535,38.1395804 25.5746535,38.0613845 L25.5746535,9.93889975 C25.5746535,9.71798585 25.3955674,9.53889975 25.1746535,9.53889975 C25.0964661,9.53889975 25.019993,9.56181436 24.954689,9.60481048 Z M34.6436115,11.798648 C34.7547335,12.030794 34.8419854,12.2167889 34.9053671,12.3566328 C36.590502,16.0746763 37.5276039,20.1956294 37.5276039,24.532755 C37.5276039,28.7641394 36.635639,32.7897635 35.0272837,36.4362183 C34.9380427,36.6385449 34.8101552,36.9146706 34.6436211,37.2645952 C34.5486602,37.4640326 34.3100191,37.5487723 34.1105639,37.4538487 C34.1101091,37.4536323 34.1096547,37.453415 34.1092007,37.4531968 C33.9190573,37.3618222 33.7721424,37.2912213 33.6684561,37.2413942 C33.186467,37.0097713 32.80073,36.824403 32.5112451,36.6852892 C32.3647538,36.6148919 32.1675294,36.5201144 31.9195719,36.4009569 C31.7210538,36.3055358 31.6370188,36.067582 31.7316042,35.8686644 C31.8690322,35.5796464 31.9753727,35.3500122 32.0506255,35.1797617 C33.4919206,31.9190071 34.2914059,28.3180945 34.2914059,24.532755 C34.2914059,20.6930477 33.46879,17.0431031 31.9881259,13.7454591 C31.9261905,13.6075203 31.840749,13.424362 31.7318014,13.1959842 C31.636885,12.9969991 31.7208632,12.7587263 31.919573,12.6632348 C32.0929373,12.5799233 32.2332164,12.5125112 32.3404102,12.4609985 C32.6888449,12.2935556 33.1655706,12.0644616 33.7705875,11.7737163 C33.8540198,11.7336223 33.9670458,11.6793068 34.1096655,11.6107699 C34.3087736,11.5152168 34.5476881,11.5990382 34.6433466,11.7980956 C34.643435,11.7982797 34.6435233,11.7984638 34.6436115,11.798648 Z",id:"SoundOutline-形状",fill:"currentColor",fillRule:"nonzero"}))))}),null),wrap:!1},Ce=e.memo((t=>{const{noticeBar:n={}}=s(),o=p(we,n,t),i=g(r.createElement(M,{className:`${be}-close-icon`}),n.closeIcon,t.closeIcon),l=e.useRef(null),c=e.useRef(null),[u,d]=e.useState(!0),m=o.speed,h=e.useRef(!0),f=e.useRef(!1);function y(){if(h.current||o.wrap)return;const e=l.current,t=c.current;if(!e||!t)return;if(e.offsetWidth>=t.offsetWidth)return f.current=!1,t.style.removeProperty("transition-duration"),void t.style.removeProperty("transform");if(f.current)return;const n=!t.style.transform;t.style.transitionDuration="0s",t.style.transform=n?"translateX(0)":`translateX(${e.offsetWidth}px)`;const i=n?t.offsetWidth:e.offsetWidth+t.offsetWidth;f.current=!0,t.style.transitionDuration=`${Math.round(i/m)}s`,t.style.transform=`translateX(-${t.offsetWidth}px)`}var b,w,E,k,x;return b=()=>{h.current=!1,y()},w=o.delay,E=H(b),k=e.useRef(null),x=e.useCallback((function(){k.current&&clearTimeout(k.current)}),[]),e.useEffect((function(){if(!("number"!=typeof w||w<0))return k.current=setTimeout(E,w),x}),[w]),function(e,t){const n=H((()=>{y()}));C((()=>{const e=t.current;if(e){if(window.ResizeObserver){let t;const o=new ResizeObserver((()=>{t=window.requestAnimationFrame((()=>n(e)))}));return o.observe(e),()=>{window.cancelAnimationFrame(t),o.disconnect()}}n(e)}}),[t])}(0,l),function(t,n,o){const i=H(t);e.useEffect((()=>{const e=function(e,t,n){if(e&&"undefined"!=typeof MutationObserver){let o=new MutationObserver((()=>{n()}));return o.observe(e,t),()=>{o&&(o.disconnect(),o=null)}}return()=>{}}(n.current,o,i);return e}),[n])}((()=>{y()}),c,{subtree:!0,childList:!0,characterData:!0}),u?v(o,r.createElement("div",{className:a(be,`${be}-${o.color}`,{[`${be}-wrap`]:o.wrap}),onClick:o.onClick},o.icon&&r.createElement("span",{className:`${be}-left`},o.icon),r.createElement("span",{ref:l,className:`${be}-content`},r.createElement("span",{onTransitionEnd:()=>{f.current=!1,y()},ref:c,className:`${be}-content-inner`},o.content)),(o.closeable||o.extra)&&r.createElement("span",{className:`${be}-right`},o.extra,o.closeable&&r.createElement("div",{className:`${be}-close`,onClick:()=>{var e;d(!1),null===(e=o.onClose)||void 0===e||e.call(o)}},i)))):null}));function Ee(){var t,n;const o=u((e=>e.user.info)),i=d(),[r,s]=e.useState({}),a=`https://t.me/HamstersTon_bot/Hamster?startapp=${btoa(o.user_id)}`,[l,c]=e.useState(!1),p=m(),[v,g]=e.useState(""),y=u((e=>e.user.system)),b=h();!function({blockId:t,onReward:n,onError:o}){const i=e.useRef(void 0);e.useEffect((()=>{var e;i.current=null==(e=window.Adsgram)?void 0:e.init({blockId:t,debug:!0,debugBannerType:"FullscreenMedia"})}),[t]),e.useCallback((async()=>{i.current?i.current.show().then((()=>{n()})).catch((e=>{null==o||o(e)})):null==o||o({error:!0,done:!1,state:"load",description:"Adsgram script not loaded"})}),[o,n])}({blockId:"3925",onReward:e.useCallback((()=>{alert("Reward")}),[]),onError:e.useCallback((e=>{alert(JSON.stringify(e,null,4))}),[])});const w=e=>{i(e),b.notificationOccurred("success")};return e.useEffect((()=>{A().then((e=>{if(0==e.code){s(e.data);let t="";e.data.list.map((e=>{t+=e.desc,t+=".  "})),t+="Participating in games has a better chance of winning mysterious prizes!",g(t)}}))}),[]),f.jsxs("div",{className:"gamepage-container fadeIn",children:[f.jsx(Ce,{content:v,color:"info",onClick:()=>{ye.show({title:"Game rewards",content:v,closeOnMaskClick:!0,image:"/assets/rewards.png"})}}),f.jsxs("div",{className:"g-container",children:[f.jsxs("div",{className:"title",onClick:()=>i("/gameleaderboard"),children:[f.jsx("div",{className:"left",children:"ᴘʟᴀʏ ɢᴀᴍᴇ ᴛᴏ ᴇᴀʀɴ $ʜᴍsᴛʀ"}),f.jsx("div",{className:"right",children:f.jsx("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4873",width:"24",height:"24",children:f.jsx("path",{d:"M642.174253 504.59418C650.164439 511.835287 650.070886 522.174253 641.84009 529.376198L332.618569 799.94503C323.751654 807.703582 322.853148 821.181184 330.611697 830.048098 338.370249 838.915012 351.847851 839.813519 360.714765 832.05497L669.936288 561.486138C697.36486 537.486138 697.727953 497.358861 670.825747 472.978737L360.992414 192.192278C352.26205 184.280386 338.770837 184.943889 330.858944 193.674252 322.947053 202.404616 323.610556 215.895829 332.340919 223.807723L642.174253 504.59418Z",fill:"#fff","p-id":"4874"})})})]}),f.jsx("div",{children:f.jsxs("div",{className:"myself",onClick:()=>i("/gameleaderboard"),children:[f.jsxs("div",{className:"left",children:[f.jsx("div",{className:"icon",style:{background:F(null==o?void 0:o.username)},children:null==(t=null==o?void 0:o.username)?void 0:t.slice(0,2)}),f.jsxs("div",{className:"name-score-warpper",children:[f.jsx("div",{className:"name",children:null==o?void 0:o.username}),f.jsxs("div",{className:"name-score",children:["Game: ",null==(n=null==o?void 0:o.game_score)?void 0:n.toLocaleString()," $HMSTR"]}),f.jsxs("div",{className:"name-score",children:["Times: ",null==r?void 0:r.count," "]})]})]}),f.jsx("div",{className:"right",children:1==(null==r?void 0:r.rank)?f.jsx("img",{src:"/assets/common/NO1.png",alt:"no1"}):2==(null==r?void 0:r.rank)?f.jsx("img",{src:"/assets/common/NO2.png",alt:"no2"}):3==(null==r?void 0:r.rank)?f.jsx("img",{src:"/assets/common/NO3.png",alt:"no3"}):4==(null==r?void 0:r.rank)?f.jsx("img",{src:"/assets/common/NO4.png",alt:"no4"}):5==(null==r?void 0:r.rank)?f.jsx("img",{src:"/assets/common/NO5.png",alt:"no5"}):f.jsxs("span",{children:["#",null==r?void 0:r.rank]})})]})}),f.jsxs("div",{className:"intros",children:[f.jsxs("div",{className:"intro-list",children:[f.jsx("img",{src:"/assets/g1.png"}),f.jsxs("div",{className:"btn",onClick:()=>w("/emoji"),children:[f.jsx("span",{children:"Play"}),f.jsx("span",{children:null==o?void 0:o.ticket}),f.jsx("img",{src:"/assets/common/ticket.png",className:"ticket"})]})]}),f.jsxs("div",{className:"intro-list",children:[f.jsx("img",{src:"/assets/wel.gif"}),f.jsxs("div",{className:"btn",onClick:()=>w("/fall"),children:[f.jsx("span",{children:"Play"}),f.jsx("span",{children:null==o?void 0:o.ticket}),f.jsx("img",{src:"/assets/common/ticket.png",className:"ticket"})]})]}),f.jsxs("div",{className:"intro-list",children:[f.jsx("img",{src:"/assets/g3.png"}),f.jsxs("div",{className:"btn",onClick:()=>w("/memory"),children:[f.jsx("span",{children:"Play"}),f.jsx("span",{children:null==o?void 0:o.ticket}),f.jsx("img",{src:"/assets/common/ticket.png",className:"ticket"})]})]})]}),f.jsx(S,{visible:l,onMaskClick:()=>{c(!1)},bodyStyle:{borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},className:"popup-invite",children:f.jsxs("div",{className:"popup-frens",children:[f.jsxs("div",{className:"title",children:["Invite a Fren",f.jsx("svg",{onClick:()=>c(!1),className:"close-svg",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5777",width:"18",height:"18",children:f.jsx("path",{d:"M597.795527 511.488347 813.564755 295.718095c23.833825-23.833825 23.833825-62.47489 0.001023-86.307691-23.832801-23.832801-62.47489-23.833825-86.307691 0L511.487835 425.180656 295.717583 209.410404c-23.833825-23.833825-62.475913-23.833825-86.307691 0-23.832801 23.832801-23.833825 62.47489 0 86.308715l215.769228 215.769228L209.410915 727.258599c-23.833825 23.833825-23.833825 62.47489 0 86.307691 23.832801 23.833825 62.473867 23.833825 86.307691 0l215.768205-215.768205 215.769228 215.769228c23.834848 23.833825 62.475913 23.832801 86.308715 0 23.833825-23.833825 23.833825-62.47489 0-86.307691L597.795527 511.488347z",fill:"#272636","p-id":"5778"})})]}),f.jsxs("div",{className:"content",children:[f.jsxs("div",{className:"content-desc",children:[f.jsxs("div",{children:["Get ",null==y?void 0:y.invite_add," $HMSTR and ",null==y?void 0:y.ticket," ticket（Invite a Friend）"]}),f.jsxs("div",{children:["Get ",null==y?void 0:y.huiYuan_add," $HMSTR and ",null==y?void 0:y.huiYuan_ticket," tickets（Invite a Telegram Premium）"]})]}),f.jsx("div",{className:"popup-content-btn",onClick:()=>(()=>{const e=a,t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),B.show({content:"copied",position:"top"})})(),children:"Copy link"}),f.jsx("div",{className:"popup-content-btn btn-send",onClick:()=>{p.shareURL(a,"Hey, if you're a Pig, DOGS, Blum or Catizen user... you have something very special to claim in the Hamster app now.\nThe Hamster airdrop is coming! 🪂\nClaim with this link.")},children:"Send"})]})]})})]})]})}export{Ee as default};
