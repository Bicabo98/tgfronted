[1,0,0,[["cc.TextAsset",["_name","text"],1]],[[0,0,1,3]],[[0,"app_net","option java_package = \"com.qufan.vp.protobuf\"; option java_outer_classname = \"ImProtoCommon\";\r\n//通用协议请求头部\r\nmessage MessageHead\r\n{\r\n    optional int32 client_version = 1; //客户端版本号\r\n    optional int32 cid = 2;\r\n    optional FormatType body_message_format = 3 ; //消息体格式 \"json\" \"protobuf\" \"xml\"...\r\n    optional EncryptMethod encrypt_method = 4; //消息体加密方法 \"none\" \"tea\" \"xtea\" \"des\".....\r\n    optional string message_body_name = 5; //消息名称，同消息名称定义，如\"TextMsgInfo\"，\"LoginRequest\",\"HeartbeatRequest\"\r\n}\r\n\r\n//协议请求\r\nmessage IMMessage\r\n{\r\n    optional MessageHead message_head = 1;\r\n    optional bytes message_body = 2; //二进制消息体\r\n\r\n}\r\n\r\nmessage IMMessageResponse\r\n{\r\n\toptional ResultID result = 1;\r\n\toptional string result_info = 2;\r\n\r\n}\r\n\r\n\r\nmessage MsgUserBriefInfo\r\n{\r\n    optional int32 cid = 1;//用户id\r\n    optional IDType id_type = 2; //id类型，单人，圈子，讨论组\r\n    optional string ext_info = 3;//其他扩展信息，客户端可透传\r\n    optional int32 rid = 4;\r\n}\r\n\r\nmessage MsgHead\r\n{\r\n\toptional MsgUserBriefInfo source_userinfo = 1;//发送者的信息\r\n\toptional MsgUserBriefInfo target_userinfo = 2;//接收者的信息\r\n\toptional MsgType msg_type = 3;\r\n\toptional int32 timestamp = 4;\r\n\toptional uint64 sequence =5;\r\n}\r\n\r\nmessage Msg\r\n{\r\n\toptional MsgHead msg_head = 1;\r\n\toptional bytes msg_info = 2;\r\n\toptional string rev_info = 3;\r\n}\r\n\r\nmessage RegisterRequest\r\n{\r\n\toptional int32 server_id=1;\r\n\toptional int32 server_type = 2; \r\n}\r\n\r\nmessage RegisterResponse\r\n{\r\n\toptional int32 result  =1;\r\n}\r\n\r\nmessage SimpleUserInfo\r\n{\r\n    optional int32 cid = 1;\r\n    optional string nickname = 2;\r\n    optional string sex = 3;\r\n    optional string avatar_url = 4;\r\n}\r\n\r\n\r\n\r\nmessage UserInfo\r\n{\r\n        optional SimpleUserInfo simple_userinfo = 1;\r\n        optional int32 mid = 2;\r\n        optional int32 regionid = 3;\r\n        optional int32 client_version = 4;\r\n        optional string city = 5;\r\n        optional UserOnOffline status = 6; \r\n}\r\n\r\nmessage SendMsgReq\r\n{\r\n\toptional MsgHead msg_head = 1;\r\n\toptional bytes msg_info = 2;\t\r\n\toptional string session_info=3;\r\n\toptional string nick_name = 4;\r\n}\r\n\r\nmessage SendMsgRes\r\n{\r\n\toptional IMMessageResponse res = 1;\t\r\n\toptional string session_info = 2;\r\n\toptional uint64 sequence = 3;\r\n}\r\n\r\nmessage SendMultiMsgReq\r\n{\r\n\trepeated SendMsgReq send_msg= 1;\r\n}\r\n\r\nmessage SyncMsgPush\r\n{\r\n\toptional uint64 sync_no=1;\r\n\toptional string info=2;\r\n}\r\n\r\nmessage SyncMsgReq\r\n{\r\n\toptional uint64 sync_no=1;\r\n\toptional string info=2;\r\n}\r\n\r\nmessage SyncMsgRes\r\n{\r\n\trepeated PushMsg msgs=1;\r\n\toptional uint64 sync_no=2;\r\n\toptional string info=3;\r\n}\r\n\r\nmessage SyncMsgAck\r\n{\r\n\toptional uint64 sync_no=1;\r\n\toptional string info=2;\r\n}\r\n\r\n\r\nmessage PushMsg\r\n{\r\n\toptional MsgHead msg_head = 1;\r\n\toptional bytes msg_info = 2;\r\n\toptional string session_info = 3;\r\n}\r\n\r\nmessage PushMsgRes\r\n{\r\n\toptional ResultID result=1;\r\n\toptional string session_info = 2;\r\n}\r\n\r\nmessage PushMultiMsg\r\n{\r\n\trepeated PushMsg push_msg=1;\r\n\toptional string session_info = 2;\r\n}\r\n\r\nmessage PushMultiMsgRes\r\n{\r\n\toptional ResultID result=1;\r\n\toptional string session_info = 2;\r\n}\r\n\r\n\r\n//文本消息\r\nmessage TextMsgInfo\r\n{\r\n\toptional string msg = 1;//消息体\r\n}\r\n\r\n//音频文件的缩略信息\r\nmessage AudioMsgBriefInfo \r\n{\r\n\toptional int32 audio_length =1 ;//时长, 单位是秒\r\n\toptional int32 audio_size =2;//大小, 单位是字节\r\n\toptional string url = 3; //音频地址或文件存储key\r\n}\r\n\r\n//音频文件的完整消息\r\nmessage AudioMsgCompleteInfo\r\n{\r\n\toptional AudioMsgBriefInfo brief_audio_info = 1;\r\n\toptional bytes audio_data = 2;//音频二进制数据\r\n}\r\n\r\n//图片文件的缩略信息\r\nmessage PicBriefInfo\r\n{\r\n\toptional int32 pic_size=1; //图片大小\r\n\toptional int32 height=2;\r\n\toptional int32 width=3;\r\n\toptional string thumble_url=4; //缩略图\r\n\toptional string url=5; //大图地址\r\n}\r\n\r\n//图片文件的完整信息\r\nmessage PicCompleteInfo\r\n{\r\n\toptional PicBriefInfo pic_brief_info=1;\r\n\toptional bytes pic_data = 2;//图片二进制数据\r\n}\r\n\r\n//系统消息\r\nmessage SystemMsgInfo\r\n{\r\n\toptional string msg = 1;//消息体\r\n}\r\n\r\n//牌局消息\r\nmessage GameMsgInfo\r\n{\r\n\toptional bytes game_data = 1;//牌局自定义数据，客户端自行解析\r\n}\r\n\r\n//奖励\r\nmessage RewardMsgInfo\r\n{\r\n    optional string msg = 1;//消息体\r\n}\r\n\r\n//客户端登陆请求\r\nmessage UserLoginReq\r\n{\r\n\toptional int32 client_version=1; //客户端版本号\r\n\toptional string sig=2; //客户端签名\r\n\toptional string ext_info=3;\r\n}\r\n\r\n//服务器登陆响应\r\nmessage UserLoginRes\r\n{\r\n\toptional ResultID result=1;\r\n\toptional string error=2;//客户端错误信息\r\n\toptional string extinfo=3; //服务器给客户端的保留字段\r\n}\r\n\r\n//客户端发送心跳包\r\nmessage HeartbeatRequest\r\n{\r\n    optional int64 time = 1;//客户端时间\r\n}\r\n\r\nmessage HeartbeatResponse\r\n{\r\n    optional ResultID result = 1;\r\n}\r\n\r\nmessage ProxyMsg\r\n{\r\n\toptional int32 source_id=1;\r\n\toptional int32 target_id=2;\r\n\toptional IMMessage msg=3;\r\n}\r\n\r\nmessage ProxyMultiMsg\r\n{\r\n\trepeated ProxyMsg msgs = 1;\r\n}\r\n\r\nmessage ProxyMultiMsgRes\r\n{\r\n\toptional IMMessageResponse res=1;\r\n}\r\n\r\nmessage NotifyBekicked\r\n{\r\n\toptional int64 time = 1; \r\n\toptional string remote_ip = 2;\r\n\toptional string msg = 3;\r\n\toptional int32 logout_type = 4; // 1停服 2登出\r\n\toptional int32 kick_uid = 5;\t// 被踢玩家UID\r\n}\r\n\r\nmessage UpdateInfo\r\n{\r\n\toptional string updateParams = 1;\r\n\toptional UpdateType updateType = 2;\r\n}\r\n\r\nmessage TestProto1\r\n{\r\n\toptional int32 id = 1;\r\n}\r\n\r\nmessage TestProto2\r\n{\r\n\toptional int32 id = 1;\r\n\toptional bytes bytes = 2;\r\n}\r\n\r\nmessage TestProto3\r\n{\r\n\toptional TestProto1 test1 = 1;\r\n\toptional bytes bytes = 2;\r\n}\r\n\r\nenum UpdateType\r\n{\r\n\tUPDATE_FRIEND_INVITE = 0;\r\n\tUPDATE_GROUP_INVITE = 1;\r\n\tUPDATE_FRIEND_INFO = 2;\r\n\tUPDATE_GROUP_INFO = 3;\r\n\tUPDATE_DISCUSSION_INFO = 4;\r\n\tUPDATE_ADDRESS_BOOK_INFO = 5; \r\n}\r\n\r\n//消息类型\r\nenum MsgType\r\n{\r\n\tMSG_TEXT = 0;\r\n\tMSG_AUDIO_BRIEF = 1;\r\n\tMSG_AUDIO_COMPLETE = 2;\r\n\tMSG_PIC_BRIEF = 3;\r\n\tMSG_PIC_COMPLETE = 4;\r\n\tMSG_SYS = 5;\r\n\tMSG_GAME =6;\r\n\tMSG_UPDATE = 7;\r\n\tMSG_GAMERESULT = 8;\r\n\tMSG_REWARD = 9;\r\n\tMSG_REWARD_UPDATE = 10;\r\n}\r\n\r\n\r\n//消息对象类型\r\nenum IDType\r\n{\r\n\tID_SINGLE = 0;\r\n\tID_GROUP = 1;\r\n\tID_DISCUSSION = 2;\r\n\tID_MEMBER_ADMINS_SESSION = 3;\r\n}\r\n\r\n//消息体的格式\r\nenum FormatType\r\n{\r\n\tFORMAT_PROTO = 0;\r\n\tFORMAT_JSON = 1;\r\n\tFORMAT_XML = 2;\r\n}\r\n\r\n//消息体的加密方法\r\nenum EncryptMethod\r\n{\r\n\tENCRYPT_NONE = 0;\r\n\tENCRYPT_DES = 1;\r\n\tENCRYPT_TEA = 2;\r\n\tENCRYPT_AES = 3;\t\r\n}\r\n\r\n//用户在线离线状态\r\nenum UserOnOffline \r\n{\r\n\tOFFLINE = 0;\r\n\tONLINE = 1;\r\n}\r\n\r\nenum ResultID\r\n{\r\n\tRESULT_SUCCESS = 0;  \r\n\tRESULT_FORBIT = 1;\r\n\tRESULT_FAIL = 2;\r\n\tRESULT_GETFRIENDLIST_ERROR = 3;\r\n\tRESULT_USEROFFLINE = 4;\r\n\tRESULT_ALREADY_FRIEND = 5;\r\n\tRESULT_NOT_FRIEND = 6; \r\n}\r\n\r\nenum RegisterStatus\r\n{\r\n\tREGISTER_NONE = 0;\r\n\tREGISTER_ALREADY = 1;\r\n}\r\n\r\n\r\n\r\n"]],0,0,[],[],[]]